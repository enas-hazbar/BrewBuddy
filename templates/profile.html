<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style1.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
          <a href="/" class="beer-logo">
            <!-- Beer SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
              <g transform="translate(1.4 1.4) scale(2.8 2.8)">
                <path d="M 73.655 30.91 H 60.714 v -3.301 l -47.241 0.602 v 57.88 c 0 2.159 1.75 3.91 3.91 3.91 h 39.422 c 2.159 0 3.91 -1.75 3.91 -3.91 V 70.91 h 12.941 c 3.907 0 7.074 -3.255 7.074 -7.271 V 38.181 C 80.729 34.165 77.562 30.91 73.655 30.91 z M 74.572 61.703 c 0 1.71 -1.386 3.097 -3.097 3.097 l -10.761 -0.135 V 37.021 h 10.761 c 1.71 0 3.097 1.386 3.097 3.097 V 61.703 z" fill="#ffde55"/>
                <path d="M 37.094 81.493 c -0.552 0 -1 -0.447 -1 -1 v -38.65 c 0 -0.552 0.448 -1 1 -1 s 1 0.448 1 1 v 38.65 C 38.094 81.046 37.646 81.493 37.094 81.493 z" fill="#ffa941"/>
                <path d="M 49.315 81.493 c -0.553 0 -1 -0.447 -1 -1 V 51.479 c 0 -0.553 0.447 -1 1 -1 s 1 0.447 1 1 v 29.015 C 50.315 81.046 49.868 81.493 49.315 81.493 z" fill="#ffa941"/>
                <path d="M 24.871 81.493 c -0.552 0 -1 -0.447 -1 -1 V 48.789 c 0 -0.553 0.448 -1 1 -1 s 1 0.447 1 1 v 31.704 C 25.871 81.046 25.423 81.493 24.871 81.493 z" fill="#ffa941"/>
                <path d="M 66.994 20.016 c 0 -7.256 -5.882 -13.138 -13.138 -13.138 c -2.183 0 -4.237 0.54 -6.048 1.483 C 46.29 3.516 41.766 0 36.42 0 c -5.073 0 -9.396 3.171 -11.123 7.636 c -0.453 -0.042 -0.911 -0.069 -1.375 -0.069 c -8.091 0 -14.651 6.559 -14.651 14.651 c 0 0.051 0.007 0.101 0.008 0.152 H 9.271 v 31.34 c 0 2.34 1.897 4.237 4.237 4.237 s 4.237 -1.897 4.237 -4.237 V 39.4 c 0 2.34 1.897 4.237 4.237 4.237 c 2.34 0 4.237 -1.897 4.237 -4.237 v -2.733 c 3.382 -0.536 6.383 -2.21 8.577 -4.642 c 1.757 2.232 4.476 3.67 7.537 3.67 c 1.36 0 2.647 -0.292 3.818 -0.804 v 5.693 c 0 2.34 1.897 4.237 4.237 4.237 c 2.34 0 4.237 -1.897 4.237 -4.237 v -7.469 C 61.521 32.714 66.994 27.012 66.994 20.016 z" fill="#f9f9f9"/>
              </g>
            </svg>
            <span class="logo-text">BrewBuddy</span>
          </a>
        </div>
    </nav>

<div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-inner">
            <nav class="menu">
                        <!-- Header with toggle arrow -->
                    <div class="menu-header">
                        <span class="menu-title">Menu</span>
                        <button id="sidebar-toggle" class="sidebar-toggle">
                            <span class="arrow">&#10094;</span>
                        </button>
                    </div>
                
                <div class="sidebar-divider"></div>
                <a href="{{ url_for('favourites') }}" class="menu-item" id="favourites">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 21s-6.716-4.756-9.33-8.364C.676 9.006 1.165 5.5 3.624 3.647c2.104-1.593 5.19-1.252 6.923.884L12 6l1.453-1.47c1.733-2.136 4.819-2.477 6.923-.884 2.459 1.853 2.948 5.359.954 8.989C18.716 16.244 12 21 12 21z"/>
                    </svg>
                    <span>Favourites</span>
                </a>

                <a href="{{ url_for('basket') }}" class="menu-item" id="shopping-cart">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 9l3-6h6l3 6h4l-3 12H5L2 9h4zm3 0h6M9 13v4m6-4v4"/>
                    </svg>
                    <span>Shopping cart</span>
                </a>

                <a href="{{ url_for('profile') }}" class="menu-item active" id="profile">
                    <svg viewBox="0 0 512 512">
                        <path d="M256 256c70.692 0 128-57.308 128-128S326.692 0 256 0 128 57.308 128 128s57.308 128 128 128zm0 32c-70.692 0-256 35.346-256 106.667V512h512v-117.333C512 323.346 326.692 288 256 288z"/>
                    </svg>
                    <span>Profile</span>
                </a>
                <div class="sidebar-divider"></div>
                <a class="menu-item" id="users">
                    <svg width="800px" height="800px" viewBox="0 0 24 24">
                        <path d="M1.5 6.5C1.5 3.46243 3.96243 1 7 1C10.0376 1 12.5 3.46243 12.5 6.5C12.5 9.53757 10.0376 12 7 12C3.96243 12 1.5 9.53757 1.5 6.5Z" fill="#000000"/>
                        <path d="M14.4999 6.5C14.4999 8.00034 14.0593 9.39779 13.3005 10.57C14.2774 11.4585 15.5754 12 16.9999 12C20.0375 12 22.4999 9.53757 22.4999 6.5C22.4999 3.46243 20.0375 1 16.9999 1C15.5754 1 14.2774 1.54153 13.3005 2.42996C14.0593 3.60221 14.4999 4.99966 14.4999 6.5Z" fill="#000000"/>
                        <path d="M0 18C0 15.7909 1.79086 14 4 14H10C12.2091 14 14 15.7909 14 18V22C14 22.5523 13.5523 23 13 23H1C0.447716 23 0 22.5523 0 22V18Z" fill="#000000"/>
                        <path d="M16 18V23H23C23.5522 23 24 22.5523 24 22V18C24 15.7909 22.2091 14 20 14H14.4722C15.4222 15.0615 16 16.4633 16 18Z" fill="#000000"/>
                    </svg>
                    <span>Friends</span>
                </a>

                <a href="{{ url_for('dashboard') }}" class="menu-item" id="home">
                    <svg width="800px" height="800px" viewBox="-1 0 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
                        <title>home [#1393]</title>
                        <desc>Created with Sketch.</desc>
                        <defs>
                    
                    </defs>
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Dribbble-Light-Preview" transform="translate(-341.000000, -720.000000)" fill="#000000">
                                <g id="icons" transform="translate(56.000000, 160.000000)">
                                    <path d="M299.875,576.21213 C299.875,576.76413 299.399,577.00013 298.8125,577.00013 L297.75,577.00013 C297.1635,577.00013 296.6875,576.76413 296.6875,576.21213 L296.6875,575.21213 C296.6875,574.10713 295.736562,573.00013 294.5625,573.00013 L292.4375,573.00013 C291.263438,573.00013 290.3125,574.10713 290.3125,575.21213 L290.3125,576.21213 C290.3125,576.76413 289.8365,577.00013 289.25,577.00013 L288.1875,577.00013 C287.601,577.00013 287.125,576.76413 287.125,576.21213 L287.125,568.14913 C287.125,568.01613 287.181312,567.88913 287.280125,567.79513 L292.738188,562.65913 C293.153625,562.26813 293.826188,562.26813 294.240563,562.65913 L299.719875,567.81513 C299.818688,567.90913 299.875,568.03613 299.875,568.16813 L299.875,576.21213 Z M302,567.62513 C302,567.36013 301.888438,567.10713 301.690812,566.91913 L294.998125,560.58913 C294.169375,559.80613 292.823188,559.80313 291.99125,560.58313 L285.312375,566.84813 C285.112625,567.03613 285,567.29013 285,567.55613 L285,577.21213 C285,578.31713 285.950938,579.00013 287.125,579.00013 L290.3125,579.00013 C291.486562,579.00013 292.4375,578.31713 292.4375,577.21213 L292.4375,576.21213 C292.4375,575.66013 292.9135,575.21213 293.5,575.21213 C294.0865,575.21213 294.5625,575.66013 294.5625,576.21213 L294.5625,577.21213 C294.5625,578.31713 295.513438,579.00013 296.6875,579.00013 L299.875,579.00013 C301.049062,579.00013 302,578.31713 302,577.21213 L302,567.62513 Z" id="home-[#1393]">
                    
                    </path>
                                </g>
                            </g>
                        </g>
                    </svg>
                    <span>Home</span>
                </a>

                <a href="{{ url_for('logout') }}" class="menu-item logout">
                    <svg viewBox="0 0 512 512">
                        <path d="M256 256c70.692 0 128-57.308 128-128S326.692 0 256 0 128 57.308 128 128s57.308 128 128 128zm0 32c-70.692 0-256 35.346-256 106.667V512h512v-117.333C512 323.346 326.692 288 256 288z"/>
                    </svg>
                    <span class="item-text">Log-out</span>
                </a>

            </nav>
        </div>
    </aside>

    <section class="profile-section">
        <div class="main">
            <div class="profile-container">
    
                                <!-- Profile Card -->
                <div class="profile-card">

                    <!-- Profile Picture + Upload -->
                    <div class="profile-picture-section">
                        <div class="profile-picture">
                            {% if user.profile_pic %}
                                <img src="{{ url_for('static', filename='uploads/' + user.profile_pic.split('/')[-1]) }}" 
                                    alt="Profile Picture" class="profile-pic">
                            {% else %}
                                <img src="{{ url_for('static', filename='default-profile.png') }}" 
                                    alt="Default Profile Picture" class="profile-pic">
                            {% endif %}
                        </div>

                        <!-- File input directly below -->
                        <input type="file" name="profile_pic" class="profile-upload">
                    </div>

                    <!-- Profile Form -->
                    <form action="{{ url_for('profile') }}" method="POST" enctype="multipart/form-data" class="profile-form">

                        <div class="profile-info-grid">
                            <div class="info-item">
                                <label>Name:</label>
                                <input type="text" name="name" value="{{ user.name or '' }}">
                            </div>

                            <div class="info-item">
                                <label>Email:</label>
                                <input type="email" name="email" value="{{ user.email or '' }}">
                            </div>

                            <div class="info-item">
                                <label>Date of Birth:</label>
                                <input type="date" name="dob" value="{{ user.dob or '' }}">
                            </div>

                            <div class="info-item">
                                <label>Phone Number:</label>
                                <input type="text" name="phone" value="{{ user.phone or '' }}">
                            </div>

                            <!-- Role pill spanning 2 columns -->
                            <div class="info-item role-pill">
                                Role: <span>{{ user.role or 'User' }}</span>
                            </div>
                        </div>

                        <button type="submit" class="save-btn">Save Changes</button>
                    </form>

                </div>

    

                        <!-- Bottom section -->
                        <div class="lower-content">

                            <div class="friend-group" id="friend-group">
                                <h2>My Friends</h2>
                                <ul class="friend-list">
                                    <li>User 1</li>
                                    <li>User 2</li>
                                    <li>User 3</li>
                                    <li>User 4</li>
                                    <li>User 5</li>
                                    <li>User 6</li>
                                </ul>
                            </div>

                            <div class="beer-overview" id="beer-overview">
                                <h2>Beer-overview</h2>
                                <p>Beers I added to cart:</p>
                            </div>

                        </div>

                    </div>
                </div>
                </section>

</div>

<script>
    // Sidebar collapse toggle
    const toggle = document.getElementById("sidebar-toggle");
    const sidebar = document.querySelector(".sidebar");
    toggle.addEventListener("click", () => {
        sidebar.classList.toggle("collapsed");
    });

    // Section toggles
    const shoppingCart = document.getElementById("shopping-cart");
    const users = document.getElementById("users");
    const beerOverview = document.getElementById("beer-overview");
    const friendGroup = document.getElementById("friend-group");

    // Initial state
    beerOverview.style.display = "none"; // hide beer overview by default

    shoppingCart.addEventListener("click", (e) => {
        e.preventDefault();
        beerOverview.style.display = "block";
        friendGroup.style.display = "none";
    });

    users.addEventListener("click", (e) => {
        e.preventDefault();
        beerOverview.style.display = "none";
        friendGroup.style.display = "block";
    });
</script>

</body>
</html>
